Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

CROSS: Cross-platform Recommendation
for Social E-Commerce
Tzu-Heng Lin, Chen Gao, Yong Li
Beijing National Research Center for Information Science and Technology
Department of Electronic Engineering, Tsinghua University
liyong07@tsinghua.edu.cn

ABSTRACT
Social e-commerce, as a new concept of e-commerce, uses social
media as a new prevalent platform for online shopping. Users are
now able to view, add to cart, and buy products within a single
social media app. In this paper, we address the problem of crossplatform recommendation for social e-commerce, i.e., recommending
products to users when they are shopping through social media. To
the best of our knowledge, this is a new and important problem for
all e-commerce companies (e.g. Amazon, Alibaba), but has never
been studied before.
Existing cross-platform and social related recommendation methods cannot be applied directly for this problem since they do not
co-consider the social information and the cross-platform characteristics together. To study this problem, we first investigate the
heterogeneous shopping behaviors between traditional e-commerce
app and social media. Based on these observations from data, we propose CROSS (Cross-platform Recommendation for Online Shopping
in Social Media), a recommendation model utilizing not only useritem interaction data on both platforms, but also social relation data
on social media. Extensive experiments on real-world online shopping dataset demonstrate that our proposed CROSS significantly
outperforms existing state-of-the-art methods.

(a) Traditional e-commerce app

(b) Social media (Wechat)

Figure 1: Online shopping through traditional e-commerce
app, and through social media. Users can buy products conveniently on both platforms.

1

INTRODUCTION

Increasing penetration and rapid development of social media [34]
have significantly changed the lifestyle of human. Social media like
Facebook and Wechat possess most of our spare time nowadays.
Chatting, watching videos, news, live streaming, etc., we are now
able to do almost anything in a single social media app. Social ecommerce, as defined by the ability to make a product purchase
from a third-party company within the native social media experience in an article [21], are one of the most popular topics recently.
As opposed to the traditional e-commerce app, social media is becoming one of the main platforms for online shopping. When a
user wants to buy a product, there is no need to install another
e-commerce app. Instead, we are now able to view, add to cart,
make a purchase, all within a social media app.
To sum up, users now have two main platforms to shop online:
traditional e-commerce app, and social media. Figure 1 presents
the screenshots of a mobile phone when shopping on these two
platforms. Given the increasing number of users shopping in these
ways, how to design a recommender system specifically for users
shopping in social media becomes important and urgent. Besides,
to our knowledge, this problem is very prevalent for all e-commerce
companies (e.g. Amazon, Alibaba) but has never been studied before.
In this paper, we investigate the problem of cross-platform recommendation for social e-commerce, which aims to recommend
products to users when they are shopping through social media,
given their user-item interaction data on both platforms. Apparently, in the literature, cross-platform recommendation [3, 28, 35]
and social recommendation [30] are related to this problem.

CCS CONCEPTS
• Information systems → Recommender systems; • Humancentered computing → Social media.

KEYWORDS
Recommender systems, collaborative filtering, social media, social
e-commerce
ACM Reference Format:
Tzu-Heng Lin, Chen Gao, Yong Li. 2019. CROSS: Cross-platform Recommendation for Social E-Commerce. In Proceedings of the 42nd International ACM
SIGIR Conference on Research and Development in Information Retrieval (SIGIR ’19), July 21–25, 2019, Paris, France. ACM, New York, NY, USA, 10 pages.
https://doi.org/10.1145/3331184.3331191

Permission to make digital or hard copies of all or part of this work for personal or
classroom use is granted without fee provided that copies are not made or distributed
for profit or commercial advantage and that copies bear this notice and the full citation
on the first page. Copyrights for components of this work owned by others than the
author(s) must be honored. Abstracting with credit is permitted. To copy otherwise, or
republish, to post on servers or to redistribute to lists, requires prior specific permission
and/or a fee. Request permissions from permissions@acm.org.
SIGIR ’19, July 21–25, 2019, Paris, France
© 2019 Copyright held by the owner/author(s). Publication rights licensed to ACM.
ACM ISBN 978-1-4503-6172-9/19/07. . . $15.00
https://doi.org/10.1145/3331184.3331191

515

Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

In terms of social recommendation, it considers only one platform with social information. Thus, existing methods [7, 10, 13, 19,
20, 30] are not suitable for our task, since they would fail to model
the cross-platform characteristics of user behavior. On the other
hand, existing cross-platform recommendation methods consider
user-item interactions on multiple platforms [3, 28, 35]. [3] focuses
on the task of app recommendation in smart phones, tablets, and
computers. [35] performs their recommendation task on multiple
video websites. They share the same user (or item) embedding
across platforms, and learns a separate item (or user) embedding for
each platform. However, social information, a crucial component
of social media, has never been taken into consideration.
Furthermore, the problem of cross-platform recommendation
for social e-commerce is challenging in the following two aspects.

app (or social media), and that they buy different categories of
products on different platforms. In addition, their shopping behaviors on social media are selectively affected by their friends.
This is a finding different with researches on traditional social
recommendation, which assumes a user’s all interests are influenced by her friends. These observations provide valuable
insights for better understanding user behaviors and paves the
way for designing recommender systems in this scenario.
• We propose CROSS to explicitly model user’s interest on social
media as two parts: one constant part, and one social-bias part.
Extensive experiments demonstrate superior performance of our
CROSS compared with other state-of-the-art methods. A relative
improvement of 8.40% and 5.20% are reported in terms of HR and
NDCG, two metrics for top-N recommendation. Furthermore, we
give a thorough investigation to understand why our proposed
method outperforms the baselines, which further demonstrates
the rationality of our algorithm design.

• Cross-platform user behavior modelling. Since we aim to
design a recommender system for users shopping in social media
with the data from both platforms, we should first know how
the difference and heterogeneity of the shopping behaviors are
on two platforms. To this end, how to model the heterogeneity
of user behaviors, and subsequently utilize them to design a
specialized recommender system is the first challenge we need
to solve.
• Complex social behaviors in social media. Existing social
recommendation methods follow the idea that user’s embeddings
should be similar to her friends, which forces the L 2 distance
between friends to be small [7, 10, 13, 20]. However, they only
maintain one embedding for each user, which means there is
an assumption that all user’s interests are influenced by their
friends. We argue that this is not reasonable. Although a user is
influenced by her friends in social media, there should always
be some part of her interest that is constant and irrelevant to
her friends. How to explicitly design a social influence model to
address the above problem is also very challenging.

The remainder of the paper is as follows. We first review our
related work in Section 2. Then, we introduce our dataset with
some preliminary analysis in Section 3. Afterward, we formalize
the problem and introduce our proposed algorithm in Section 4
and Section 5. Experiments are conducted in Section 6. We describe
our limitations, and point out some future research directions in
Section 7. Finally, conclusions are drawn in Section 8.

2

RELATED WORK

Cross-platform Recommendation
Distinct from traditional
cross-domain recommendation which is defined to utilize interaction data from multiple domains [2, 8, 9, 12, 31], cross-platform
recommendation concentrates on a specific recommendation task
when a user can interact with an item in multiple platforms. Collective Matrix Factorization (CMF) [28] is a intuitive way to deal
with such a cross-platform recommendation task. It maintains separate user (or item) embeddings on different platforms, and shares
the same item (or user) embeddings across all platforms. Cao et
al. [3] focuses on the task of App recommendation and assumes that
user embeddings can be shared while item embeddings are various.
Yang et al. [35] studies the video recommendation on multiple video
sites. It proposed an extension of CMF via a specially designed user
embedding vector which is made up of a global part and a local
part. However, none of the above methods have considered social
information when designing their systems, and thus they are not
suitable for the task in this paper.

To address above two challenges, we first systematically analyze
the distinct shopping behaviors on two platforms, and then we
propose a novel method named CROSS (short for Cross-platform
Recommendation for Online Shopping in Social Media) according to the observations. For the cross-platform characteristics of
this problem, we jointly learn from user-item interactions on two
platforms by performing a co-optimization task. For utilization of
social information, we split users’ interest on social media as two
parts: one constant part, and one social-bias part. The constant part
represents a user’s static interests, which is shared with that on
the traditional e-commerce app platform. While the social-bias part
represents a user’s interests shared with friends, which is limited
by a social regularization term.
To summarize, the main contributions of this work are as follows.

Social Recommendation
Social recommendation aims to exploit users’ social relations to improve a recommender system [30].
Existing social recommendation approaches are based on the fact
that users’ behaviors can be affected by their friends. As a result,
users tend to have similar tastes and preferences with friends. Some
works [7, 10, 13, 16, 20, 32] apply the regularization techniques [22]
to matrix factorization. These works integrate social information
to recommender system via a social regularization term which can
limit the distance in latent space of users’ embedding vectors with
their friends when performing the optimization task. Such regularization term can be adapted to tasks for both explicit data [13, 20]
and implicit data [7, 10, 16, 32]. Some other works [17, 19, 29] rely

• To our knowledge, we are the first to consider the problem of
cross-platform recommendation for social e-commerce, which recommends items to users when they are shopping through social
media. We argue that this problem is very important that it is
faced by all e-commerce platforms, but has never been studied
before.
• We systematically analyzed the shopping patterns of users on traditional e-commerce app and social media. More specifically, we
find users more hesitant (or decisive) on traditional e-commerce

516

Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

3.2

on CMF to co-factorize matrices of multiple relations. These works
extend CMF to the filed of social recommendation since the social relation can also be regarded as an auxiliary matrix. These
researches follow a narrow definition of social recommendation;
that is, only social relation data serves as the auxiliary knowledge
from social network. While following a broader definition, more
complicated forms of data can be collected from social network
to enhance recommendation [14, 33, 37, 38]. Zhang et al. [37] introduce text data to help mining communities in social relations
based on topic model. Jiang et al. [14] built a star-structured hybrid
graph centered on the social network, which connects with other
item domains, and then knowledge extracted from social relations
can be transferred. Wang et al. [33] considered strong and weak
tie in social relations and incorporated it into social recommendation task. Zhao et al. [38] extracted various features from social
networks to help build user vector and utilize it in feature-based
matrix factorization on user-item interaction of an e-commerce
website. Despite their effectiveness in extracting knowledge from
social networks, the key problem of our task that how to integrate
social information with cross-platform characteristics, has never
been studied.

Q1. Are users really buying products through Social Media?
First, we might be wondering if users are really buying this way, or
they are just viewing products in social media, and still return back
to app when finally buying the product. Firstly, we can observe in
Table 1 that the total number of buy behaviors on social media has
already exceeded that on app, indicating that users have already
got accustomed to buying through social media. To further study
this point, we calculate the percentage of behaviors on social media
for each user, which is defined as follows.
% of # on social media =

#User
2,623,433

#Item
#Friendship
1,194,766
76,491
App
Social Media
(Trad. E-Com. App)
(Wechat)
34,595,001
22,104,620
4,389,796
5,493,643
2,006,887
3,923,367

(1)

A larger (or smaller) view-buy-ratio means a more hesitant (or decisive) user. We present the CDF of view-buy-ratio of each users on
two platforms in Figure 4. We can observe that the view-buy-ratio
on App is significantly higher than that of social media. This indicates that when users are buying on app, they tend to shop around
and compare products in different shops. When users are buying
on social media, they make the buying decision much more quickly.
On average, users buy one products after viewing 3 products on
social media, while they buy one products after viewing 12 products
on app.
Furthermore, we want to investigate if some categories are prevalent among users on each platform, we display the fractions of
categories users have bought on app and social media in Figure 6.
Since some categories possess very high fraction on both platforms,
solely displaying their respective fractions cannot distinguish the
difference between two platforms. To address this issue, we also
calculate the difference between fractions on social media and app.
A fraction difference larger (or smaller) than 0% indicates this category is more prevalent on social media (or App).
From the results, we can observe that at the top 5 categories,
social media-prevalent categories are: Household supplies and Food
& Fruit, app-prevalent categories are: Baby clothes, Baby supplies,
Women clothes, Makeup, Baby shoes. Other categories have little
difference that we cannot distinguish they are prevalent on which
platform. This finding shows that users do buy different categories
of products on different platforms. It is also reasonable, since in real

Our dataset is collected from one of the largest e-commerce
platform in China. As shown in Figure 1, users have two main
channels to buy products on this e-commerce platform. First, they
can use a traditional e-commerce app. On the other hand, after
a friend has shared a product link to them on Wechat1 (a social
media), they can also directly buy the product and browse other
products in Wechat. Our dataset is collected within the time period
from 2017/06/01 to 2017/06/30, the statistics of which is shown in
Table 1.
The dataset records three types of interaction
User behaviors
on both platforms, including view, adding to cart, and buy. Figure 2
shows the cumulative distribution function (CDF) for number of
the three behaviors on two platforms, respectively.
Friendships
As mentioned earlier, users can share links of
products with their friends on social media (cf. Figure 1(b)). During
the sharing operation, user’s unique identifier is contained in the
URL of the shared link. Thus, when another user clicks this link,
we are able to infer that they are friends on social media.
1 Wechat

,

Q2. Are users shopping with different patterns on two platforms?
In order to investigate user’s shopping patterns on each
platform, we define a metric called view-buy-ratio. For user u, the
view-buy-ratio is defined by the number of views divided by the
number of buys:
#view
(2)
view-buy-ratio =
#buy

Table 1: Statistics of our dataset

#View
#Cart
#Buy

# on social media
# on App + # on social media

We show the box-plot of % of #behavior on social media in Figure 3.
From the results, we can observe that although users still tend to
view products on app (23%), when it comes to adding to cart (42%)
and buying (50%), they treat two platforms nearly equally. These
findings indicate that social media has become one of the main
platforms to buy products.

3 DATA & PRELIMINARY STUDY
3.1 Dataset and Observations

Platform

Preliminary Study

Is it necessary to design a recommender system specifically for
social media? To answer this, we start by investigating the following
questions to study whether users are really demonstrating diverse
behaviors on these two different platforms.

is the largest Social Network Service Provider in China.

517

SIGIR ’19, July 21–25, 2019, Paris, France

0.75

0.8

0.50
App
Social media

0.25
0

100
# of view interaction

1.0
0.9

0.6

0

10
20
# of cart interaction

0.8
0.7

App
Social media

0.4

200

100

App
Social media

0.6

0.75

5

# of friends

CDF

6

0.50
0.25

App
Social media

0.00

50
view-buy ratio

100

Percentage (%)

20

25

10.0

view

cart
Behaviors

buy

Figure 3: Fraction of #behavior on social media

4

To sum up, we have following findings.
3

• Social media is becoming one of the main platforms to buy products. A specialized recommender system for social media is in
demand.
• Users demonstrate distinct shopping behaviors on two platforms.
More concretely, users are more hesitant on app, and more decisive on social media. In addition, users buy different categories
of items on two platforms. These observations indicate the irrationality of adopting the same recommendation strategy across
these two platforms, and further demonstrate the necessity of
designing a recommender system specifically for social media.
• A user with more friends will have more buying behaviors on
social media, but not on app, which indicates that when modeling user behaviors on social media we need to consider social
information.

1~2

3~4
5~6
7~8
# of buy interaction

9~10

Figure 4: CDF of view-buy- Figure 5: The number of
ratio on two platforms
friends with different number of buys

30

50

is very weak on the app. This indicates that if more friends are
sharing products to a user, she would very likely to buy more on
social media, instead of app.

App
Social media

2

0

75

0

2.5
5.0
7.5
# of buy interaction

30

Figure 2: CDF of behaviors on two platforms

1.00

% on social media

1.0

CDF

1.00

CDF

CDF

Session 6A: Social Media

Social media
App
Difference

10

Given the above findings, we argue that designing a recommender
system specifically for social media is essential. It is also worth
noting that, the above findings also give us important indications
on how to design this recommender system.

0
−10

s it s s s s s p n s
lie ru he oy lie ce he eu tio oe
pp F lot T upp lian clot ak ora sh
M ec by
s p
su od & y c
y Ap en
d Ba
ld o ab
g
ab
ho F B
om
n
B
i
e
s
W
s
u
u
Ho
Ho
Category

4

PRELIMINARIES

In this section, we first formulate the investigated problem to solve.
Then we recapitulate the ideas and drawbacks of existing crossplatform and social recommendation methods since they are related
to our task.

Figure 6: Percentage of Top 10 categories bought on two platforms

4.1
life, buying clothes requires more comparison, which is usually done
on an e-commerce app. On the contrary, for buying products like
household supplies, food and fruit, comparison between products
are needless, we can quickly make the buying decisions on social
media without hesitation.

Problem Formulation

First, we introduce some symbols and notations used in this paper.
Suppose we have two platforms, an auxiliary platform A (traditional
e-commerce app), and a target platform T (social media). Note
that in our scenario, users and items on two platforms are fully
overlapped. We denote M and N as the number of users and items.
Then the historical user-item interaction can be denoted as matrices:
R (A) ∈ RM ×N in the auxiliary platform and R (T ) ∈ RM ×N in the
target platform. The corresponding indicator matrices are I (A) and
I (T ) , respectively. The user and item matrices are P (A) ∈ RK ×M ,
P (T ) ∈ RK ×N and Q (A) ∈ RK ×N , Q (T ) ∈ RK ×N , where K is the
dimensionality of the latent space in the matrix factorization model.

Q3. Are friends affecting our buying behaviors on social media?
In order to investigate whether friends are affecting our
buying decisions, we plot the number of friends of users with different number of buys on app and social media in Figure 5. From the
results, we can observe a very strong positive correlation between
number of friends and number of buys on social media, while it

518

Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

P"($)

S)"
P+($)

Q)
P"($)

P"())

Q'

j = 1, … , n

j = 1, … , n

i = 1, … , m

(a) CMF [28]

R())
(+
i = 1, … , m

R∗(+
i = 1, … , m

j = 1, … , n

P"($)
($)

P&

P'($)

P'($)

i = 1, … , m

S+&

...

i = 1, … , m

R())
"'

S+"

S+'

...

R($)
"'

P(($)

Q+

P&($)

S)'
R($)
+)

P(())

S)&

R($)
(+

(b) SocialMF [13]

(c) CROSS (ours)

Figure 7: Graphical models
From the perspective of representative learning, user and item
matrices represent user interests and item features, respectively.
We also define the social relation matrix in social media platform
as S ∈ RM ×M . Specifically, suv will be 1 if user u and v are friends,
and suv = 0 otherwise. Finally, the problem of cross-platform
recommendation in social media is formulated as follows.

function to be optimized can be formulated as follows.
min

M Õ
N
Õ

P (T ),Q u=1 i=1

Ii j (Rui − pu · qi )2 +

N
Õ

(pu −

u=1

Õ

Suv pv )2 , (4)

v ∈Nu

Problem 1: Cross-Platform Recommendation for
Social E-Commerce
Input: An app platform A with {R (A) };
Social media platform T with {R (T ) , S}.
output: Missing values in R (T ) .

As argued earlier in the introduction, this setting is unreasonable
since it assumes all user’s interests are influenced by her friends.
A more rational assumption would be part of user’s interests are
influenced by her friends, and she should always contain a constant
part of her interests that would not be influenced. In addition, how
to utilize the social information in a cross-platform recommender
system is still an unstudied question.

4.2

5

Collective Matrix Factorization

Collective Matrix Factorization (CMF) (shown in Figure 7(a)) is
originally proposed to factorize multiple data matrices that have
common entities simultaneously [28]. For example, it can be used
to co-factorize a user-item matrix and a user-attribute matrix. In
this way, user’s attributes will also be taken into concern when
learning user and item embeddings.
CMF can also be easily adapted to solve a cross-platform recommendation problem by co-factorizing user-item interaction matrices
from different platforms. When performing the co-factorization,
item embeddings are shared across all platforms, while user embeddings are various across domains. The objective function to be
optimized can be formulated as follows.

min

M Õ
N
Õ

P (A), P (T ),Q u=1 i=1

(A)
(T ) (T )
(T )
(A) (A)
Ii j (Rui −pu ·qi )2 +Ii j (Rui −pu ·qi )2 ,

5.1

Learning from App Platform

For learning from user behaviors on the app platform, we use
a simple MF (Matrix Factorization) model. We assume that user
behaviors on app is not much influenced by her friends, so we do
not need to take social information into consideration in this part.
This assumption is also justified by the observation in Section 3.2.
Therefore on the app platform, user u’s rating on item i can be
learned via a simple MF model.

(3)

Note that here and in the following paper, L 2 regularization term
for embedding matrices are omitted for simplification. As argued
earlier in the introduction, in our social media scenario, a user’s
behaviors are largely influenced by her friends. Settings of CMF is
clearly unreasonable since it fails to utilize social information.

4.3

OUR SOLUTION

Figure 7(c) illustrates our proposed CROSS model. Following a
common setting of cross-platform method like CMF [28], we jointly
model user behaviors on two platforms. We define our loss function
as follows,
L = L(A) + L(T ) .
(5)
In the training process, the loss function we want to optimize
contains two parts: one models user behaviors on traditional ecommerce app, another models user behaviors on a social media.
In what follows, we will introduce our design for each part of the
loss function.

(A)

(A)

R̂ui = pu · qi ,
(6)
The loss function of App platform can be formulated as follows.

SocialMF

L(A) =

SocialMF [13] (cf. Figure 7(b)) is a prevalent method to solve a social
recommendation problem. SocialMF adds a social regularization
term to the loss function to limit the L 2 distance of user’s embedding and her friends’ average embeddings. Its main idea is that a
user’s interest should be similar to her friends. SocialMF’s objective

M Õ
N
Õ
u=1 i=1

5.2

(A)

(A)

(A)

Ii j (Rui − pu · qi )2 .

(7)

Learning from Social Media Platform

For learning from user behaviors on social media, we model users’
interest as two parts: one part that represents own interest, and

519

Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

Learning with Gradient Descent
We optimize parameters
with stochastic gradient descent (SGD), and implement it on Tensorflow [1], which provides the function of automatic differentiation,
we omit the derivation of the objective function.

another part that is influenced by the friends. Since user behaviors
on app platform cannot be influenced by friends, user behaviors on
the app platform can be regarded as user’s own interests. User u’s
rating on item i can be modeled as the sum of two parts: user u’s
(A)
∗ that is influenced
rating on App platform R̂ui , plus a social-bias R̂ui
by friends. Both parts are modeled using the MF model, formulated
as follows,
(T )

(A)

(A)

(T )

∗
R̂ui = R̂ui + R̂ui
= pu · qi + pu · qi .

Extend to pairwise case Pairwise learning [6, 18, 25, 26] is a
widely used method for solving implicit feedback recommendation
problem. When solving a implicit feedback problem, our proposed
CROSS can also be learned in a pairwise manner [26] by easily
changing the loss function to
Õ
Õ
(A)
(T )
min L =
lnσ (x̂ui j ) +
lnσ (x̂ui j )

(8)

∗ .8, we add a social regTo further model the social-bias part R̂ui
ularization term to the loss function, similar to the idea of SocialMF [13]. More concretely, we expect this part of embedding of
user u dependent on her friends. Such influence can be formulated
as follows,
Í
Í
(T )
(T )
v ∈Nu Suv pv
v ∈Nu Suv pv
(T )
p̂u = Í
,
(9)
=
|Nu |
v ∈Nu Suv

P (A), P (T ),Q

(T )
+ λS
(pu
u=1

Õ

−

5.4

(T )

(T )
Suv pv )2 ,

v ∈Nu

6

Training

P (A), P (T ),Q

L=

M Õ
N
Õ

(A)

(A)

+

(A)

u=1 i=1
M
Õ

+ λS

u=1

(T )

(T )

(A)

(T )

Ii j (Rui − pu · qi − pu · qi )2
(T )

(pu −

Õ

(T )

(14)
(T )

(A)

(T )

Discussion

EXPERIMENTS

• RQ1: How does our proposed model compared with state-of-theart recommendation algorithms?
• RQ2: How do the hyper-parameters, such as dimensionality K
of the latent space, affect the performance of our model?
• RQ3: How do social relations affect the recommendation performance in our proposed CROSS model?
• RQ4: How heterogeneity across the two platforms affect recommendation performance?

Ii j (Rui − pu · qi )2

u=1 i=1
M Õ
N
Õ

(T )

(A)

To evaluate our proposed CROSS method, we designed and conducted extensive experiments to answer the following four research
questions.

Loss Function
In the training process, loss functions for each
part are added together for joint optimization. The overall loss
function can be expressed as follows,
min

(T )

(A)

We note that a more complex interaction function (e.g. NCF [11])
can be easily integrated into our algorithm. Since this is not the
core of this paper, we use the simplest matrix factorization model
for demonstration in this work, and leave the exploration of other
choices as the future work.
Now, we summary some desirable properties of CROSS. Firstly,
CROSS jointly optimizes user behaviors on two platforms, which
gains benefit from cross-platform learning. Secondly, for modeling
user’s interest on social media, we carefully design two parts: one
constant part that is not influenced by friends, and another socialbias part that is fully influenced by friends. Thus, our model is
more expressive and more reasonable compared to other traditional
social recommendation methods.

where λ S is the weight of the social regularization term controlling
the strength of social influence.

5.3

(A)

and σ is the sigmoid function, (u, i, j) ∈ D S is the triplet set that
user u prefer i over j.

(11)

(T )
+ λS
(pu
u=1

(A)

(A)

Ii j (Rui − pu · qi − pu · qi )2

u=1 i=1
M
Õ

(A)

= (pu · qi + pu · qi ) − (pu · q j + pu · q j ),

where v ∈Nu Suv = 1.
To sum up, the loss function of social media platform can be
formulated as follows.
(A)

v ∈Nu

x̂ui j = R̂ui − R̂u j

v ∈Nu

(T )

−

(13)

(T )
Suv pv )2 ,

x̂ui j = R̂ui − R̂u j = pu · qi − pu · q j

Í

(T )

Õ

where

(T )

M Õ
N
Õ

(T )

(u,i, j)∈D S

M
Õ

where Nu is the friends of user u, and p̂u is the estimated embedding of user u given the embeddings of the friends. Note that
social relation matrix S is a binary matrix in our scenario (friends
or not friends), this method would be more expressive if strength
of social influence is also taken into consideration. Here, we only
focus on a binary social relation, and leave that as future work. For
convenience, we normalize each row of the social relation matrix
ÍN
so that v=1
Suv = 1 and have:
Õ
(T )
(T )
p̂u =
Suv pv ,
(10)

L(T ) =

(A)

(u,i, j)∈D S

(12)

(T )

Suv pv )2 .

In what follows, we first describe the experimental settings, and
then answer the above four research questions.

v ∈Nu

520

Session 6A: Social Media

6.1

SIGIR ’19, July 21–25, 2019, Paris, France

Experimental Settings

experiments fair and reasonable, the weight of social regularization
term λ S for CROSS and SocialBPR, and dimensionality K for all
methods were searched in [0.0001, 0.0005, 0.001, 0.005, 0.01, 0.05, 0.1,
0.25, 0.5, 1, 1.25, 1.5, 1.75, 2, 3, 4, 8, 10] and [8, 16, 32, 64, 128, 256],
respectively. In the following sections, we report the performance
of the best hyper-parameter settings for each model.

Evaluation Dataset
Without loss of generality, we unbiasedly
sample a small subset of users from the original dataset for efficiency, and make sure that each user has at least one friend. This
gives us 2,620 users with 1,902 friendships, interacting with 6,701
items. Total number of buys are 5,904, 3,687 on app and social media, respectively. Besides, the interaction data of this dataset, the
buy log, is in the implicit form. As introduced in Section 5.3, our
CROSS model can be adapted to implicit dataset by training it in
a pairwise manner. Therefore, here we train CROSS based on a
pairwise loss [26] for better performance.

6.2

Performance Comparison (RQ1)

Figure 8 presents the performance comparison among all methods.
From the results, we have the following findings.
• Effectiveness. Firstly, we can observe that our proposed CROSS
outperforms all baseline methods substantially and consistently
w.r.t all HR@K and N DCG@K metrics. The average relative
improvement for CROSS to the best baseline is 8.40% and 5.20%
for HR and NDCG, respectively, which justifies the effectiveness
of our model.
• Social modeling. Methods which can utilize social information,
CROSS, SocialBPR(both) and SocialBPR(social media), outperforms the other best baselines significantly by 247%, 188%, 226%
in terms of HR, and 305%, 228%, 287% in terms of NDCG. This
demonstrates the importance and necessity of social modelling
in this task.
• Distinct user behaviors on two platforms. When considering using only social media or both platform data to train for
baselines, SocialBPR(social media) performs 9.46%, 15.36% better than SocialBPR(both) in HR and NDCG, respectively. This
is reasonable since if user behaviors existing on two platforms
differ a lot, naively leveraging users interaction data on app to
evaluate data on social media platform would certainly have a
negative effect. In addition, this observation further justifies the
heterogeneity of user behaviors on two platforms as analyzed in
Section 3.2.
• Cross-platform modeling. Our CROSS outperforms SocialBPR
(both) and SocialBPR(social media), and also, CMF slightly outperforms BPR(both) and BPR(social media). These show the necessity
of cross-platform modeling for shopping behaviors.

To evaluate the performance, we adopted
Evaluation Protocol
the leave-one-out [27] evaluation method with the following metrics.
• HR@K: Hit Ratio (HR) measures whether the test item is contained by the top-K item ranking list (1 for yes and 0 for no).
• NDCG@K: Normalized Discounted Cumulative Gain (NDCG)
complements HR by assigning higher scores to the hits at higher
positions of the ranking list.
Baselines
Our compared baselines can be divided into two
groups. The first group contains three methods that do not consider
cross-platform characteristics.
• BPR [26]. This is a widely-used method which optimizes a pairwise loss when dealing with implicit feedback data.
• SocialBPR [10]. This method extends BPR by adding a social
regularization term to limit the L 2 distance of friends’ embeddings. This method can also be regarded as training SocialMF [13]
in a pairwise manner.
• ItemPop. This is a non-personalized method raking items base
on their popularity, which is defined as the number of historical
interactions.
Since the above methods have not considered the cross-platform
characteristics of the problem, they can be trained in two manners.
The first way applies one same recommender system to both platforms, and the system is trained via aggregated data from both
platforms without difference. The second way trains a separate
recommender system for each platform, which only uses data from
that specific platform. In our scenario, we only use data from social media to train a recommender system. In the following paper,
without special notice, baselines with a ‘(social media)’ (or ‘(both)’)
suffix means this algorithm is trained using data on social media
(or both) platform.
The second groups contains the methods considering crossplatform characteristics and jointly learning user behaviors on
two platforms.
• CMF [28]. This method shares item embeddings across the two
platforms, and extends BPR by learning separate user embeddings for each platform. Note that for a fair comparison, we also
train CMF in a pairwise manner [26], which is proved to achieve
a better performance compared to the original element-wise version.

6.3

Study of Dimensionality K (RQ2)

We further compare the performance of all methods in Figure 9 w.r.t
different dimensionality K of the latent space. Following findings
are observed.
• Expressiveness. Firstly, we can observe better performance
with larger dimensionality K for CROSS, SocialBPR(both), and
SocialBPR(social media). This is intuitive since larger dimensionality means more expressiveness for models. However, this
observation does not stand for BPR(both), BPR(social media), and
CMF. This indicates that BPR(both), BPR(social media), and CMF
have already reached the limit of their expressiveness with a very
small dimensionality K (16, 64, 32, respectively).
• Effectiveness. We can observe that our proposed CROSS method
outperforms all the other baselines substantially and consistently
regardless of the dimensionality K. The average relative improvement for CROSS to the best baseline is 17.78% and 20.17% for HR
and NDCG, respectively. This further justifies the effectiveness
of our model.

Parameter Settings
For our model and all baselines, we set the
weights of regularization terms λ P and λQ for P and Q to a trivial
value 0.01 following common settings [13, 19, 20]. To make the

521

Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

CROSS (ours)
CMF

04

SocialBPR (social media)
SocialBPR (both)

BPR (social media)
BPR (both)

ItemPop (social media)
ItemPop (both)

0.06
0.08
0.05
NDCG@K

HR@K

0.06

0.04

0.04
0.03
0.02

0.02

0.00

0.01

1

2

3

4

5 6
Top K

7

8

9

0.00

10

1

2

3

4

5 6
Top K

7

8

9

10

Figure 8: Evaluation of Top K item recommendation, where baselines with a ‘(social media)’ (or ‘(both)’) suffix means this
algorithm is trained using data on social media (or both) platform as described in Section 6.1.
0.06

0.09
0.08

0.05
NDCG@10

HR@10

0.07
0.06
0.05
0.04

0.04
0.03
0.02

0.03
0.02

0.01
8

16

32
64
128
Dimensionality K

256

8

16

32
64
128
Dimensionality K

256

Figure 9: Performance with different dimensionality K. Legends are consistent with that of Figure 8.
• Computational cost. Our proposed CROSS method can achieve
much better performance than the baselines even if the dimensionality is very small. Since computational cost is in proportion
to dimensionality K, this observation indicates that we can gain
decent performance with much lower computational cost.

HR@10

0.15

SocialBPR (both)
SocialBPR (social media)
CROSS (ours)

0.10

0.05

6.4

Impact of Social Relations (RQ3)

Section 3.2 has analyzed the correlation between number of buy and
number of friends, and we further analyze how our model performs
for users with different number of friends. We divide users into 3
groups according to the number of their friends: [1-4, 5-8, 9-12].
The recommendation performance for each group of our CROSS
method and other baselines which utilize social information are
shown in Figure 10.
Firstly, we can observe a trend of better performance with users
having more friends. This is intuitive, and shows the importance

0.00
1~4

5~8
# of friends

9~12

Figure 10: Performance with different number of friends
of social relation information for recommendation. Secondly, our
method outperforms the best baselines significantly by 35.01%,
25.59%, 35.53% for each of the three groups. This further justifies

522

Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

Table 2: Performance (HR@10) of Top 5 item categories, where *(or + ) indicates algorithms trained on data from social media
(or both) platform have better performance than the one trained on data from both (or social media) platform. For each
category, top 2 performances are marked in bold.
Category
Food & Fruit*
Household supplies*
Toys
Baby supplies+
Baby clothes+

Fraction
Fraction Fraction BPR
(social
(App)
(Diff)
(both)
media)
22.72%
7.24%
15.48%
0.000
32.46%
21.96%
10.50%
0.017
8.35%
8.24%
0.11%
0.007
4.43%
9.59%
-5.17% 0.029+
12.10%
21.86%
-9.75% 0.020+

BPR
(social
media)
0.034*
0.035*
0.012*
0.021
0.005

ItemPop
(both)
0.000
0.025
0.021+
0.151+
0.011+

ItemPop
SocialBPR
SocialBPR
(social
(social
CMF
(both)
media)
media)
0.000
0.000
0.017*
0.000
0.029*
0.017
0.035*
0.017
0.018
0.021
0.043*
0.007
0.000
0.169+
0.052
0.035
0.000
0.026+
0.022
0.029

CROSS
(ours)
0.022
0.042
0.034
0.192
0.057

that our method can utilize social information more effectively.
Lastly, our method is able to achieve decent performance even if
users have only few friends. This demonstrates our method can
address the problem of poor performance of users with sparse
social relations. That is, our method can efficiently alleviate the
data sparsity issue which is a major concern in recommendation
tasks [5, 36, 39].

• Failure situation of CROSS. In all our previous experiments,
we find our proposed CROSS outperforms the other baselines
consistently. However, after we have analyzed CROSS in depth,
we find that in category Food & Fruit, CROSS cannot beat the
baseline of BPR (social media). Our guess is that for Food & Fruit,
we usually have our own thoughts, and do not refer to their
friends too much.

6.5

7

Impact of Item Categories (RQ4)

DISCUSSION

Here, we would like to discuss some points of this work that we
plan to address in the future. We also expect further efforts from
the community in the following aspects.

We further investigate how our model performs on different categories of products. Table 2 shows the performance on the top 5
categories (which has at least 4% fraction on social media). As analyzed in Section 3.2, a larger fraction difference between fraction
on social media and fraction on app means this category is more
prevalent on social media platform.
Thus, we can divide the top 5 categories into 3 groups by the fraction difference. The first group contains two social media-prevalent
categories: Food & Fruit and Household supplies, which have a
fraction difference much larger than 0%. The second group contains
one category which are almost as popular on two platforms: Toys,
which has a fraction difference about equal to 0%. The third group
contains two app-prevalent categories: Baby supplies and Baby
clothes, which have a fraction difference much smaller than 0%.
Shown in Table 2, following findings are observed.

Lack of publicly available dataset.
Firstly, we test our algorithm on one private dataset. Due to the characteristic of the
application scenario, no other publicly available data is suitable for
evaluating it (i.e. lack of access platform information and social
relationship between users). However, the problem we have proposed is very common and important. We will open our dataset2
and expect further improvement for this problem on other suitable
data in the industry in the future.
Performance in real scenario
Secondly, we conduct our experiments offline for efficiency and convenience. We would like to
evaluate our proposed method via online A/B testing with significantly more users and items in the future.

• Specialty Trade-off. For social media-prevalent (or app-prevalent)
categories, using social media (or both) platform data to train
will have better performance (Marked as * (or + ) in Table 2). This
shows that there is a trade-off between specialty in app-prevalent
categories and specialty in social media-prevalent categories for
the baseline methods. Compared to all the other baselines, our
proposed CROSS method not only has decent performance on
social media-prevalent categories, it also shows a significant improvement on app-prevalent categories. This indicates that our
CROSS can alleviate the trade-off and improve both performance
simultaneously.
• Effect of Social modelling. For social media-prevalent categories, there is no performance gain after adding social information (i.e. comparing CROSS, SocialBPR with other baselines).
However, for app-prevalent categories, a large improvement is
achieved after leveraging social information. This indicates that
the habits of users buying app-prevalent categories products are
largely influenced by their friends, which further justifies the
need for social modelling.

523

Understanding of user behaviors.
In this paper, we conduct
a preliminary analysis of the comparison of user behaviors on social
media and traditional e-commerce app. Deeper understanding of
user behaviors on two platforms are definitely crucial for further
modelling of users. We expect in-depth study of this research topic
in the future.
Exploration of model structure and richer information.
The proposed method CROSS in this work is the first approach
to solve the problem of cross-platform recommendation for social
e-commerce. CROSS is elegant, straightforward, and shows superior
performance. We note that there are multiple improvements that
can be made to further promote the performance. For instance, as
mentioned in Section 5.4, we only use an MF element-wise product interaction function in this work, more complex interaction
functions, such as neural network based ones [11, 23], can be easily
integrated to our model. Also, when modelling user behaviors, we
utilize buying behaviors. Multi-behavior recommendation is an
2 will

be available in https://lzhbrian.me/sigir19-cross

Session 6A: Social Media

SIGIR ’19, July 21–25, 2019, Paris, France

emerging research topic [15, 24, 39] and it would be meaningful if
we can utilize other types of behaviors, such as click or view, to
solve this problem. In addition, extension for CROSS to model auxiliary information, such as product prices & information [4], user
reviews [40], to name just a few, would be extremely interesting to
develop. As this paper is the first attempt, we hope that our work
and our dataset can elicit other reasonable and inspiring ideas from
the community in the future.

8

[13] Mohsen Jamali and Martin Ester. 2010. A matrix factorization technique with
trust propagation for recommendation in social networks. In RecSys. 135–142.
[14] Meng Jiang, Peng Cui, Xumin Chen, Fei Wang, Wenwu Zhu, and Shiqiang Yang.
2015. Social recommendation with cross-domain transferable knowledge. TKDE
27, 11 (2015), 3084–3097.
[15] Artus Krohn-Grimberghe, Lucas Drumond, Christoph Freudenthaler, and Lars
Schmidt-Thieme. 2012. Multi-relational matrix factorization using bayesian
personalized ranking for social network data. In WSDM. 173–182.
[16] Tzu-Heng Lin, Chen Gao, and Yong Li. 2018. Recommender Systems with Characterized Social Regularization. In CIKM. 1767–1770.
[17] Chun-Yi Liu, Chuan Zhou, Jia Wu, Yue Hu, and Li Guo. [n. d.]. Social recommendation with an essential preference space. In AAAI.
[18] Tie-Yan Liu et al. 2009. Learning to rank for information retrieval. Foundations
and Trends® in Information Retrieval 3, 3 (2009), 225–331.
[19] Hao Ma, Haixuan Yang, Michael R Lyu, and Irwin King. 2008. Sorec: social
recommendation using probabilistic matrix factorization. In CIKM. 931–940.
[20] Hao Ma, Dengyong Zhou, Chao Liu, Michael R Lyu, and Irwin King. 2011. Recommender systems with social regularization. In WSDM. 287–296.
[21] Shanelle Mullin. 2016. Social Commerce: What It Is, What It Isn’t and Why You
Should Care. https://conversionxl.com/blog/social-commerce/. (2016). [Online;
accessed 22-May-2019].
[22] Andrew Y Ng. 2004. Feature selection, L1 vs. L2 regularization, and rotational
invariance. In ICML. 78.
[23] Wei Niu, James Caverlee, and Haokai Lu. 2018. Neural Personalized Ranking for
Image Recommendation. In WSDM. 423–431.
[24] Chanyoung Park, Donghyun Kim, Jinoh Oh, and Hwanjo Yu. 2017. Do AlsoViewed Products Help User Rating Prediction?. In WWW. 1113–1122.
[25] Steffen Rendle and Christoph Freudenthaler. 2014. Improving pairwise learning
for item recommendation from implicit feedback. In WSDM. 273–282.
[26] Steffen Rendle, Christoph Freudenthaler, Zeno Gantner, and Lars Schmidt-Thieme.
2009. BPR: Bayesian personalized ranking from implicit feedback. In UAI. 452–
461.
[27] Andriy Shepitsen, Jonathan Gemmell, Bamshad Mobasher, and Robin Burke.
2008. Personalized recommendation in social tagging systems using hierarchical
clustering. In RecSys. 259–266.
[28] Ajit P Singh and Geoffrey J Gordon. 2008. Relational learning via collective
matrix factorization. In SIGKDD. 650–658.
[29] Jiliang Tang, Huiji Gao, Xia Hu, and Huan Liu. 2013. Exploiting homophily effect
for trust prediction. In WSDM. 53–62.
[30] Jiliang Tang, Xia Hu, and Huan Liu. 2013. Social recommendation: a review.
SNAM 3, 4 (2013), 1113–1133.
[31] Jie Tang, Sen Wu, Jimeng Sun, and Hang Su. 2012. Cross-domain collaboration
recommendation. In SIGKDD. 1285–1293.
[32] Xiang Wang, Xiangnan He, Liqiang Nie, and Tat-Seng Chua. 2017. Item silk
road: Recommending items from information domains to social users. In SIGIR.
185–194.
[33] Xin Wang, Steven CH Hoi, Martin Ester, Jiajun Bu, and Chun Chen. 2017. Learning
personalized preference of strong and weak ties for social recommendation. In
WWW. 1601–1610.
[34] Wikipedia contributors. 2019. Social media — Wikipedia, The Free Encyclopedia. (2019). https://en.wikipedia.org/w/index.php?title=Social_media&oldid=
898106368 [Online; accessed 22-May-2019].
[35] Chunfeng Yang, Huan Yan, Donghan Yu, Yong Li, and Dah Ming Chiu. 2017. Multisite User Behavior Modeling and Its Application in Video Recommendation. In
SIGIR. 175–184.
[36] Xiao Yu, Xiang Ren, Yizhou Sun, Quanquan Gu, Bradley Sturt, Urvashi Khandelwal, Brandon Norick, and Jiawei Han. 2014. Personalized entity recommendation:
A heterogeneous information network approach. In WSDM. 283–292.
[37] Xi Zhang, Jian Cheng, Ting Yuan, Biao Niu, and Hanqing Lu. 2013. TopRec:
domain-specific recommendation through community topic mining in social
network. In WWW. 1501–1510.
[38] Wayne Xin Zhao, Sui Li, Yulan He, Edward Y Chang, Ji-Rong Wen, and Xiaoming
Li. 2016. Connecting social media to e-commerce: Cold-start product recommendation using microblogging information. TKDE 28, 5 (2016), 1147–1159.
[39] Zhe Zhao, Zhiyuan Cheng, Lichan Hong, and Ed H Chi. 2015. Improving user
topic interest profiles by behavior factorization. In WWW. 1406–1416.
[40] Lei Zheng, Vahid Noroozi, and Philip S Yu. 2017. Joint deep modeling of users
and items using reviews for recommendation. In WSDM. 425–434.

CONCLUSION

In this work, we systematically investigate the task of cross-platform
recommendation for social e-commerce. To the best of our knowledge, this is a practical task but has rarely been studied previously.
We have proposed an elegant model CROSS, which seamlessly integrate social information into cross-platform recommendation.
To evaluate our proposed method, we have conducted extensive
experiments on a real-world dataset, showing that our proposed
CROSS method significantly outperforms existing state-of-the-art
methods.

ACKNOWLEDGMENTS
This work was supported in part by The National Key Research and
Development Program of China under grant 2017YFE0112300, the
National Nature Science Foundation of China under 61861136003,
61621091 and 61673237, Beijing National Research Center for Information Science and Technology under 20031887521, and research
fund of Tsinghua University - Tencent Joint Laboratory for Internet
Innovation Technology.

REFERENCES
[1] Martín Abadi, Paul Barham, Jianmin Chen, Zhifeng Chen, Andy Davis, Jeffrey
Dean, Matthieu Devin, Sanjay Ghemawat, Geoffrey Irving, Michael Isard, et al.
2016. Tensorflow: a system for large-scale machine learning.. In OSDI, Vol. 16.
265–283.
[2] Iván Cantador, Ignacio Fernández-Tobías, Shlomo Berkovsky, and Paolo Cremonesi. 2015. Cross-Domain Recommender Systems. Springer US, Boston, MA,
919–959.
[3] Da Cao, Xiangnan He, Liqiang Nie, Xiaochi Wei, Xia Hu, Shunxiang Wu, and
Tat-Seng Chua. 2017. Cross-platform app recommendation by jointly modeling
ratings and texts. TOIS 35, 4 (2017), 37.
[4] Jia Chen, Qin Jin, Shiwan Zhao, Shenghua Bao, Li Zhang, Zhong Su, and Yong Yu.
2014. Does product recommendation meet its waterloo in unexplored categories?:
No, price comes to help. In SIGIR. 667–676.
[5] Gianmarco De Francisci Morales, Aristides Gionis, and Claudio Lucchese. 2012.
From chatter to headlines: harnessing the real-time web for personalized news
recommendation. In WSDM. 153–162.
[6] Jingtao Ding, Fuli Feng, Xiangnan He, Guanghui Yu, Yong Li, and Depeng Jin.
2018. An Improved Sampler for Bayesian Personalized Ranking by Leveraging
View Data. In WWW. 13–14.
[7] Liang Du, Xuan Li, and Yi-Dong Shen. 2011. User graph regularized pairwise
matrix factorization for item recommendation. In SDMA. 372–385.
[8] Ali Mamdouh Elkahky, Yang Song, and Xiaodong He. 2015. A Multi-View Deep
Learning Approach for Cross Domain User Modeling in Recommendation Systems. In WWW. 278–288.
[9] Chen Gao, Xiangning Chen, Fuli Feng, Kai Zhao, Xiangnan He, Yong Li, and
Depeng Jin. 2019. Cross-domain Recommendation Without Sharing User-relevant
Data. In WWW. 491–502.
[10] Lei Guo, Jun Ma, Hao-Ran Jiang, Zhu-Min Chen, and Chang-Ming Xing. 2015.
Social trust aware item recommendation for implicit feedback. JCST 30, 5 (2015),
1039–1053.
[11] Xiangnan He, Lizi Liao, Hanwang Zhang, Liqiang Nie, Xia Hu, and Tat-Seng
Chua. 2017. Neural collaborative filtering. In WWW. 173–182.
[12] Liang Hu, Jian Cao, Guandong Xu, Longbing Cao, Zhiping Gu, and Can Zhu.
2013. Personalized recommendation via cross-domain triadic factorization. In
WWW. 595–606.

524

